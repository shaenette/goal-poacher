{% extends 'base.html' %}
<!DOCTYPE html>
<html>
<head>
    <title>{{ app_name }}</title>
</head>
<body>
    {% block content %}
    <h1>{{ app_name }}</h1>
    <h3>Welcome, {{ username }}!</h3>
    <br>
    
    <a href="{% url 'main:add_product' %}">
        <button>+ Add Product</button>
    </a>
    <br>
    <a href="{% url 'main:logout' %}">
        <button>Logout</button>
    </a>
    <h5>Sesi terakhir login: {{ last_login }}</h5>
    <hr>
    <a href="?filter=all">
        <button type="button">All Products</button>
    </a>
    <a href="?filter=my">
        <button type="button">My Products</button>
    </a> 
    <br><br>
    <h2>Product List</h2>
    {% if not product_list %}
    <p>Belum ada produk yang terdaftar.</p>
    {% else %}
    {% for product in product_list %}
    <div>
        <h3>{{ product.name }}</h3>
        {% if product.thumbnail %}
        <img src="{{ product.thumbnail }}" alt="{{ product.name }}" width="150" height="100">
        {% endif %}
        
        <p>{{ product.description|truncatewords:25 }}</p>
        
        <p>Price: $ {{ product.price }}</p>
        <p>Category: {{ product.category }}</p>
        <p>Stock: {{ product.stock }}</p>
        
        <a href="{% url 'main:show_product' product.id %}"><button>Detail</button></a>
        
    </div>
    <hr>
    {% endfor %}
    <br>
    <p>Credit to: </p>
    <p>Nama: {{ student_name }}</p>
    <p>NPM: {{npm}}</p>
    <p>Kelas: {{ class_name }}</p>

    {% endif %}
    {% endblock content %}
</body>
</html>
